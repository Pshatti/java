node {
stage('SCM')
{
checkout scm
}
stage('SonarQube Analysis')
{
def scannerHome = tool 'sonarqubedemo';
withSonarQubeEnv()
{
bat "${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=sonarqubedemo"
}
}
stage("Quality Gate") {
steps {
timeout(time: 2, unit: 'MINUTES') {
waitForQualityGate abortPipeline: true
}
}
}
stage("Build Result")
{
echo "Build Successful"
}
}
